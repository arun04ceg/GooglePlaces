package com.example.healthcaresearch;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;

import DataBinders.PlaceAutoCompleteResultSet;
import DataBinders.SearchResult;
import DataBinders.SearchResultSet;
import Query.PlaceAutoComplete;
import Query.Search;
import android.app.Activity;
import android.os.AsyncTask;
import android.os.Bundle;
import android.widget.ArrayAdapter;
import android.widget.ListView;

public class NearbySearch extends Activity{
	
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_nearby_search);
		
		ListView listView = (ListView) findViewById(R.id.listView1);
		
		ArrayAdapter<String> adapter = new ArrayAdapter<String>(this,
		        android.R.layout.simple_list_item_1, new ArrayList<String>());
		listView.setAdapter(adapter);
	}
	
	private class LocationTask extends AsyncTask<String, Void, List<String>> {

		@Override
		protected List<String> doInBackground(String... s) {
			HashMap<String, String> params = new HashMap<String, String>();
			params.put("sensor", "true");
			params.put("key", "AIzaSyC8j9ERqf-XwxMpATEfO063jkfhvTINNcw");
			params.put("input", s[0].toString());
						
			SearchResultSet results = new SearchResultSet();
			try {
				results = Search.search("nearbysearch", params);
			} catch (Exception e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
					
			List<String> finalResults = new ArrayList<String>();
			for(SearchResult result : results.getResults()) {
				finalResults.add(result.getFormatted_address());
			}

			return finalResults;
		}

}
